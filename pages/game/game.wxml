<!--game.wxml-->
<view class="container">
  <!-- 顶部信息 -->
  <view class="header">
    <view class="header-left">
      <view class="mode-tag">
        <text>{{modeName}}</text>
      </view>
    </view>
    
    <view class="header-center">
      <view class="timer-wrapper">
        <view class="timer-icon"></view>
        <text class="timer">{{formatTime(timer)}}</text>
      </view>
    </view>
    
    <view class="header-right">
      <view class="hint-wrapper">
        <text class="hint-label">提示</text>
        <text class="hint-count">{{hints}}</text>
      </view>
    </view>
  </view>

  <!-- 棋盘 -->
  <view class="board-container">
    <view class="board">
      <!-- 3x3边框 -->
      <view class="grid-borders">
        <view class="border-h border-h-1"></view>
        <view class="border-h border-h-2"></view>
        <view class="border-v border-v-1"></view>
        <view class="border-v border-v-2"></view>
      </view>
      
      <!-- 9x9格子 -->
      <view class="cells">
        <view wx:for="{{board}}" wx:for-item="row" wx:for-index="rowIdx" wx:key="rowIdx" class="row">
          <view 
            wx:for="{{row}}" 
            wx:for-item="cell" 
            wx:for-index="colIdx" 
            wx:key="colIdx"
            class="{{getCellClass(rowIdx, colIdx)}}"
            data-row="{{rowIdx}}"
            data-col="{{colIdx}}"
            bindtap="selectCell"
          >
            <view class="cell-inner" wx:if="{{cell !== 0}}">
              <text>{{cell}}</text>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 数字键盘 -->
  <view class="number-pad" wx:if="{{!isComplete}}">
    <view wx:for="{{nums}}" wx:key="*this" class="num-btn" bindtap="inputNumber" data-num="{{item}}">
      <text>{{item}}</text>
    </view>
    <view class="num-btn clear-btn" bindtap="clearCell">
      <view class="clear-icon"></view>
    </view>
  </view>

  <!-- 功能按钮 -->
  <view class="actions" wx:if="{{!isComplete}}">
    <view class="action-btn" bindtap="useHint">
      <view class="hint-icon"></view>
      <text>提示</text>
    </view>
    <view class="action-btn" bindtap="restart">
      <view class="restart-icon"></view>
      <text>重来</text>
    </view>
  </view>
</view>