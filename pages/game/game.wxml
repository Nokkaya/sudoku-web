<!--game.wxml-->
<view class="page">
  <!-- 顶部信息栏 -->
  <view class="header">
    <view class="header-left">
      <view class="mode-badge">
        <text class="mode-text">{{modeName}}</text>
      </view>
    </view>
    
    <view class="header-center">
      <view class="timer-block">
        <view class="timer-dot"></view>
        <text class="timer-text">{{formatTime(timer)}}</text>
      </view>
    </view>
    
    <view class="header-right">
      <view class="hint-block">
        <text class="hint-number">{{hints}}</text>
        <text class="hint-label">提示</text>
      </view>
    </view>
  </view>

  <!-- 装饰元素 -->
  <view class="game-decoration">
    <view class="corner-deco top-left"></view>
    <view class="corner-deco top-right"></view>
    <view class="corner-deco bottom-left"></view>
    <view class="corner-deco bottom-right"></view>
  </view>

  <!-- 数独棋盘 -->
  <view class="board-container">
    <view class="board-frame">
      <view class="board">
        <!-- 3x3 宫格边框 -->
        <view class="grid-borders">
          <view class="border-h border-h-1"></view>
          <view class="border-h border-h-2"></view>
          <view class="border-v border-v-1"></view>
          <view class="border-v border-v-2"></view>
        </view>
        
        <!-- 9x9 格子 -->
        <view class="cells">
          <view wx:for="{{board}}" wx:for-item="row" wx:for-index="rowIdx" wx:key="rowIdx" class="row">
            <view 
              wx:for="{{row}}" 
              wx:for-item="cell" 
              wx:for-index="colIdx" 
              wx:key="colIdx"
              class="{{getCellClass(rowIdx, colIdx)}}"
              data-row="{{rowIdx}}"
              data-col="{{colIdx}}"
              bindtap="selectCell"
            >
              <view class="cell-inner" wx:if="{{cell !== 0}}">
                <text>{{cell}}</text>
              </view>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 数字键盘 -->
  <view class="keypad-section" wx:if="{{!isComplete}}">
    <view class="keypad">
      <view wx:for="{{nums}}" wx:key="*this" class="key" bindtap="inputNumber" data-num="{{item}}">
        <text>{{item}}</text>
      </view>
      <view class="key key-erase" bindtap="clearCell">
        <view class="erase-icon">
          <view class="erase-line"></view>
        </view>
      </view>
    </view>
  </view>

  <!-- 功能按钮 -->
  <view class="tools-section" wx:if="{{!isComplete}}">
    <view class="tool-button" bindtap="useHint">
      <view class="tool-icon hint-icon"></view>
      <text class="tool-text">提示</text>
    </view>
    <view class="tool-button" bindtap="restart">
      <view class="tool-icon restart-icon">
        <view class="restart-arrow"></view>
      </view>
      <text class="tool-text">重来</text>
    </view>
  </view>
</view>